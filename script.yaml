living_room_cable_input:
  alias: Cable Input
  sequence:
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret cable_input_ir
living_room_xbox_input:
  alias: Xbox Input
  sequence:
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret xbox_input_ir
living_room_chromecast_input:
  alias: Chromecast Input
  sequence:
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret chromecast_input_ir
living_room_volume:
  alias: Living Room Volume
  sequence:
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet: 
          - !secret living_room_volume_ir
living_room_tv_on:
  sequence:
    - condition: state
      entity_id: input_boolean.living_room_tv
      state: 'off'
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret living_room_tv_ir
    - delay:
        milliseconds: 300
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret living_room_soundbar_ir
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.living_room_tv
living_room_tv_off:
  sequence:
    - condition: state
      entity_id: input_boolean.living_room_tv
      state: 'on'
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret living_room_tv_ir
    - delay:
        milliseconds: 300
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret living_room_soundbar_ir
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.living_room_tv
bedroom_volume:
  alias: Bedroom Volume
  sequence:
    - service: broadlink.send_packet_10_0_0_11
      data:
        packet:
          - !secret bedroom_volume_ir
bedroom_tv_on:
  sequence:
    - condition: state
      entity_id: input_boolean.bedroom_tv
      state: 'off'
    - service: broadlink.send_packet_10_0_0_11
      data:
        packet:
          - !secret bedroom_tv_ir
    - delay:
        milliseconds: 300
    - service: broadlink.send_packet_10_0_0_11
      data:
        packet:
          - !secret bedroom_soundbar_ir
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.bedroom_tv
bedroom_tv_off:
  sequence:
    - condition: state
      entity_id: input_boolean.bedroom_tv
      state: 'on'
    - service: broadlink.send_packet_10_0_0_11
      data:
        packet:
          - !secret bedroom_tv_ir
    - delay:
        milliseconds: 300
    - service: broadlink.send_packet_10_0_0_11
      data:
        packet:
          - !secret bedroom_soundbar_ir
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.bedroom_tv
goal_horn:
  alias: Goal Lamp
  sequence:
    - service: media_player.play_media
      data:
        media_content_id: "http://10.0.0.6:8123/local/goalhorn.mp3"
        entity_id: "media_player.living_room_home"
        media_content_type: "MUSIC"
    - service: broadlink.send_packet_10_0_0_4
      data:
        packet:
          - !secret goal_lamp_ir
learnir_lr:
  alias: Learn IR Code Living Room
  sequence:
    - service: broadlink.learn_command_10_0_0_4
learnir_br:
  alias: Learn IR Code Bedroom
  sequence:
    - service: broadlink.learn_command_10_0_0_11

bedtime:
  sequence:
    - service: switch.turn_off
      entity_id: switch.kitchen_light
    - delay:
        milliseconds: 500
    - service: switch.turn_off
      entity_id: switch.living_room_light
    - delay:
        milliseconds: 500
    - service: switch.turn_off
      entity_id: switch.bedroom_light
    - service: switch.turn_off
      entity_id: switch.living_room_tv
    - service: switch.turn_off
      entity_id: switch.bedroom_tv
    - service: switch.turn_off
      entity_id: switch.lamps

